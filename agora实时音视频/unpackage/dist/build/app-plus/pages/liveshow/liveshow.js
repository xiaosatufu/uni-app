!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=54)}([function(e,t){e.exports={}},function(e,t,o){"use strict";function i(e,t,o,i,n,r,a,s,l,c){var u,d="function"==typeof e?e.options:e;if(l){d.components||(d.components={});var p=Object.prototype.hasOwnProperty;for(var f in l)p.call(l,f)&&!p.call(d.components,f)&&(d.components[f]=l[f])}if(c&&((c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(d.mixins||(d.mixins=[])).push(c)),t&&(d.render=t,d.staticRenderFns=o,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=u):n&&(u=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),u)if(d.functional){d._injectStyles=u;var g=d.render;d.render=function(e,t){return u.call(t),g(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,u):[u]}return{exports:e,options:d}}o.d(t,"a",(function(){return i}))},function(e,t,o){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(o(3).default,Vue.prototype.__$appStyle__)},function(e,t,o){"use strict";o.r(t);var i=o(0),n=o.n(i);for(var r in i)"default"!==r&&function(e){o.d(t,e,(function(){return i[e]}))}(r);t.default=n.a},function(e,t,o){"use strict";function i(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function n(){return"string"==typeof __channelId__&&__channelId__}Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];console[e].apply(console,o)},t.default=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=t.shift();if(n())return t.push(t.pop().replace("at ","uni-app:///")),console[r].apply(console,t);var a=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e)+"---END:JSON---"}catch(t){e="[object object]"}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var o=i(e).toUpperCase();e="NUMBER"===o||"BOOLEAN"===o?"---BEGIN:"+o+"---"+e+"---END:"+o+"---":String(e)}return e})),s="";if(a.length>1){var l=a.pop();s=a.join("---COMMA---"),0===l.indexOf(" at ")?s+=l:s+="---COMMA---"+l}else s=a[0];console[r](s)}},,,,function(e,t,o){"use strict";var i=o(41),n=o(21),r=o(1);var a=Object(r.a)(n.default,i.b,i.c,!1,null,null,"a6892b84",!1,i.a,void 0);(function(e){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(o(48).default,this.options.style):Object.assign(this.options.style,o(48).default)}).call(a),t.default=a.exports},,,,,,,,,,,,,function(e,t,o){"use strict";var i=o(22),n=o.n(i);t.default=n.a},function(e,t,o){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=o(55))&&n.__esModule?n:{default:n};var a=e("TX-AgoraEngineKit"),s={components:{chatRoom:r.default},data:function(){return{uid:0,role:1,roomId:1,hisId:0,cohostId:0,localUid:0,windowHeight:0,beauty:0,beautyValue:0,mode:"me",enable:!1,renderModel:1}},onLoad:function(e){this.windowHeight=uni.getSystemInfoSync().windowHeight,this.uid=1+Math.ceil(1e6*Math.random()),this.role=e.role,this.renderModel=e.renderModel,1==this.role?this.enable=!0:this.enable=!1},onReady:function(){this.join()},onNavigationBarButtonTap:function(){uni.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})},onBackPress:function(){this.$refs.maxTxAgoraView.leaveChannel(),this.$refs.maxTxAgoraView.destroyRtc()},methods:{switchCamera:function(){this.$refs.maxTxAgoraView.switchCamera()},startAll:function(){this.$refs.maxTxAgoraView.joinChannel()},stopAll:function(){this.$refs.maxTxAgoraView.leaveChannel()},menuAction:function(){var e=this;2==this.role?uni.showActionSheet({itemList:["连麦","停止连麦"],success:function(t){var o=t.tapIndex;0==o?(e.localUid=e.uid,a.setClientRole(1)):1==o&&(e.localUid=0,a.setClientRole(2))}}):1==this.role&&uni.showActionSheet({itemList:["播放音乐","播放音效"],success:function(e){var t=e.tapIndex;0==t?a.downloadUrls("",(function(e){i("log",e," at pages/liveshow/liveshow.nvue:158"),a.adjustAudioMixingVolume(10),a.startAudioMixing({filePath:e.filePath,loopBack:!1,replace:!1,cycle:-1})})):1==t&&a.downloadUrls("",(function(e){i("log",e," at pages/liveshow/liveshow.nvue:170"),a.playEffect({id:101,filePath:e.filePath,loopCount:0,pitch:1,pan:0,gain:50,publish:!0})}))}})},hideKeyboard:function(){i("log","hideKeyboard"," at pages/liveshow/liveshow.nvue:192")},sliderChange:function(e){i("log",e.detail.value," at pages/liveshow/liveshow.nvue:195"),this.beauty=e.detail.value,this.beautyValue=this.beauty/100},onPush:function(e){var t=e.detail;switch(i("log",t," at pages/liveshow/liveshow.nvue:203"),t.type){case"onFirstRemoteVideoDecoded":i("log","onFirstRemoteVideoDecoded"," at pages/liveshow/liveshow.nvue:206");break;case"onUserJoined":2==this.role?this.hisId=t.uid:this.cohostId=t.uid}},join:function(){this.$refs.maxTxAgoraView.joinChannel()}},beforeCreate:function(){weex.requireModule("dom").addRule("fontFace",{fontFamily:"iconfont",src:'url("file:/'+plus.io.convertLocalFileSystemURL("_www/static/iconfont.ttf")+'")'})}};t.default=s}).call(this,o(46).default,o(4).default)},function(e,t,o){"use strict";o.r(t);var i=o(24),n=o.n(i);for(var r in i)"default"!==r&&function(e){o.d(t,e,(function(){return i[e]}))}(r);t.default=n.a},function(e,t,o){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=e("TX-AgoraRTM"),n={name:"chat-room",data:function(){return{chatroomId:"",userInfo:{nickName:"我的大名",avatarUrl:"",userId:"9527"},message:"",messageList:[],chatScrollTop:0}},props:{roomId:{type:String,default:function(){return""}}},watch:{roomId:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){o("log","watch roomId",roomId," at components/chat-room.nvue:76"),this.chatroomId=e}))},created:function(){var e=this,t=plus.device.uuid;i.loginRtm({appId:"c55f8994e73f484ba557c9c7d232b3e0",rtmToken:"",userId:t},(function(t){switch(t.type){case"AgoraRtmLoginSuccess":o("log","AgoraRtmLoginSuccess"," at components/chat-room.nvue:90"),i.joinChannel({channelId:"1"},(function(t){switch(o("log",t," at components/chat-room.nvue:94"),t.type){case"onMessageReceivedFromMember":e.messageList.length>200&&e.messageList.shift(),e.messageList.push({nickName:e.userInfo.nickName,avatarUrl:e.userInfo.avatarUrl,roomNo:e.roomNo,userId:e.userInfo.userId,date:new Date,message:t.msg,messageType:" ",isSelf:!1})}}))}}))},mounted:function(){this.$nextTick((function(){}))},destroyed:function(){},methods:{sendMessage:function(e,t,n){o("log","sendMessage",e," at components/chat-room.nvue:132");var r=e.detail&&e.detail.value?e.detail.value:e;if("string"!=typeof r)return o("log","message not a string",r," at components/chat-room.nvue:135");if(r&&r.trim()){i.sendChannelMessage(r,(function(e){}));var a=t||"";0===r.indexOf("{")&&r.lastIndexOf(!0)&&(r=r.replace(/{|}/g,""),a="Join"),this.messageList.length>200&&this.messageList.shift(),this.messageList.push({nickName:this.userInfo.nickName,avatarUrl:this.userInfo.avatarUrl,roomNo:this.roomNo,userId:this.userInfo.userId,date:new Date,message:r,messageType:a,isSelf:!0}),this.message=""}else o("log","message socketClient",r,this.socketClient,n," at components/chat-room.nvue:168")}}};t.default=n}).call(this,o(46).default,o(4).default)},function(e,t){e.exports={"chat-block":{position:"absolute",top:0,bottom:0,left:0,right:"20rpx"},"message-block":{position:"absolute",top:0,bottom:"100rpx",left:"20rpx",right:0,flexDirection:"column-reverse",paddingTop:"20rpx",paddingRight:0,paddingBottom:"20rpx",paddingLeft:0},"message-box":{flexDirection:"column",paddingTop:"10rpx",paddingBottom:"10rpx",width:"510rpx"},"message-box-avatar":{width:"60rpx",height:"60rpx"},"message-box-avatar-box":{width:"60rpx",height:"60rpx",position:"absolute",left:"10rpx",top:"10rpx"},"message-box-content":{marginLeft:"80rpx"},"message-box-message":{paddingTop:"15rpx",paddingRight:"15rpx",paddingBottom:"15rpx",paddingLeft:"15rpx",lineHeight:1.5,borderTopLeftRadius:"20rpx",borderTopRightRadius:"20rpx",borderBottomRightRadius:"20rpx",borderBottomLeftRadius:"20rpx",color:"#444444",fontSize:"28rpx",backgroundColor:"rgba(0,0,0,0.3)"},"message-box-name":{display:"inline-block",fontSize:"26rpx",color:"rgba(255,255,255,0.8)"},"message-box-content-message":{display:"inline-block",fontSize:"26rpx",color:"rgba(255,255,255,0.8)"},"message-box-message-info-text":{color:"#0086B3"},"bottom-bar":{flexDirection:"row",position:"fixed",bottom:0,paddingTop:"20rpx",paddingRight:"30rpx",paddingBottom:"20rpx",paddingLeft:"30rpx",width:"750rpx"},"bottom-bar-input-content":{flex:1},"bottom-bar-input-content-input":{paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",lineHeight:1,borderTopLeftRadius:"999",borderTopRightRadius:"999",borderBottomRightRadius:"999",borderBottomLeftRadius:"999",backgroundColor:"rgba(255,255,255,0.3)",height:"70rpx",fontSize:"26rpx",color:"#ffffff",borderStyle:"solid",borderWidth:"2rpx",borderColor:"rgba(0,0,0,0.3)"},"bottom-bar-icon-opt":{width:"72rpx",height:"72rpx",marginLeft:"10rpx",borderTopLeftRadius:"999rpx",borderTopRightRadius:"999rpx",borderBottomRightRadius:"999rpx",borderBottomLeftRadius:"999rpx",backgroundColor:"rgba(0,0,0,0.1)",textAlign:"center",alignItems:"center",justifyContent:"center"},"bottom-bar-opt-img":{width:"60rpx",height:"60rpx"}}},function(e,t){e.exports={chatBox:{width:"750rpx",flex:1,flexDirection:"column",backgroundColor:"#111111"},header:{width:"750rpx",position:"fixed",top:0,left:0,marginTop:"20rpx",marginRight:0,marginBottom:"20rpx",marginLeft:0,flexDirection:"row",justifyContent:"space-between"},viewIco:{marginLeft:"20rpx",fontFamily:"iconfont",fontSize:"60rpx",color:"#FFFFFF"},maxTxAgoraView:{width:"750rpx",backgroundColor:"#111111",position:"fixed",top:0,right:0},minTxAgoraView:{width:"220rpx",height:"300rpx",position:"fixed",backgroundColor:"#000000",right:"20rpx",top:"20rpx",borderTopLeftRadius:"10",borderTopRightRadius:"10",borderBottomLeftRadius:"10",borderBottomRightRadius:"10",borderStyle:"solid",borderWidth:"1",borderColor:"rgba(255,255,255,0.2)"},foot:{width:"710rpx",position:"fixed",bottom:0,left:0,marginTop:"20rpx",marginRight:"20rpx",marginBottom:"20rpx",marginLeft:"20rpx",alignItems:"center",justifyContent:"center",flexDirection:"column"},circleBoxAll:{justifyContent:"center",alignItems:"center"},inputBoxAll:{flexDirection:"row",alignItems:"center"},inputBox:{flexDirection:"row",marginTop:"15rpx",marginRight:"15rpx",marginBottom:"15rpx",marginLeft:"15rpx",paddingTop:"15rpx",paddingRight:"15rpx",paddingBottom:"15rpx",paddingLeft:"15rpx",backgroundColor:"#FFFFFF",borderRadius:"6"},inputTitle:{height:"80rpx",lineHeight:"80rpx"},input:{height:"80rpx",width:"340rpx",fontSize:"30rpx",paddingTop:"15rpx",paddingRight:"15rpx",paddingBottom:"15rpx",paddingLeft:"15rpx"},join:{backgroundColor:"#DD524D",width:"160rpx",height:"120rpx",lineHeight:"120rpx",textAlign:"center",color:"#FFFFFF",borderRadius:"10"},circleBox:{width:"150rpx",paddingTop:"10rpx",paddingRight:0,paddingBottom:"10rpx",paddingLeft:0,marginTop:"10rpx",marginRight:"10rpx",marginBottom:"10rpx",marginLeft:"10rpx",alignItems:"center",flexDirection:"column",textAlign:"center"},circleIco:{fontSize:"36rpx",width:"64rpx",height:"64rpx",lineHeight:"64rpx",borderRadius:"500",borderStyle:"solid",borderWidth:"1",borderColor:"#FFFFFF",textAlign:"center",fontFamily:"iconfont",color:"#FFFFFF"},phone:{backgroundColor:"#c5433a",borderStyle:"solid",borderWidth:"1",borderColor:"#c5433a"},hint:{fontSize:"22rpx",color:"#FFFFFF",paddingTop:"20rpx"},tools:{position:"fixed",right:0,bottom:"100rpx",zIndex:11,width:"150rpx"},showSlider:{position:"fixed",right:"180rpx",bottom:"100rpx",zIndex:12,width:"200rpx"},"foot-content":{flexDirection:"column-reverse",position:"fixed",bottom:0,left:0,right:0,height:"500rpx",overflow:"hidden",paddingTop:"20rpx",paddingRight:"40rpx",paddingBottom:"20rpx",paddingLeft:"40rpx"}}},,,,,,,,,,,,,,,function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("scroll-view",{staticStyle:{flexDirection:"column"},attrs:{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true"}},[o("view",{staticClass:["chatBox"]},[o("TX-AgoraView",{ref:"maxTxAgoraView",staticClass:["maxTxAgoraView"],style:{height:e.windowHeight},attrs:{channelId:e.roomId,uid:e.uid,renderModel:e.renderModel,channelProfile:"1",clientRole:e.role,contrastLevel:e.beautyValue,lighteningLevel:e.beautyValue,smoothneesLevel:e.beautyValue,rednessLevel:e.beautyValue,remoteUid:e.hisId,publishStreamUrl:"",enableVideo:e.enable,enableAudio:e.enable},on:{statechange:e.onPush}}),o("view",{staticClass:["header"]},[o("u-text",{staticClass:["viewIco"],on:{click:e.changeMode}},[e._v("")]),o("TX-AgoraView",{ref:"minTxAgoraView",staticClass:["minTxAgoraView"],style:e.minStyle,attrs:{localUid:e.localUid,remoteUid:e.cohostId}})],1),o("view",{staticClass:["foot-content"]},[o("chat-room",{ref:"chatRoom",staticClass:["chat-room"],attrs:{id:"chatRoom",roomId:e.roomId}})],1),o("view",{staticClass:["tools"]},[o("view",{staticClass:["circleBoxAll"]},[o("view",{staticClass:["circleBox"],on:{click:function(t){e.menuAction()}}},[o("u-text",{staticClass:["circleIco","phone"]},[e._v("")]),o("u-text",{staticClass:["hint"]},[e._v("菜单操作")])]),o("view",{staticClass:["circleBox"],on:{click:function(t){e.startAll()}}},[o("u-text",{staticClass:["circleIco","phone"]},[e._v("")]),o("u-text",{staticClass:["hint"]},[e._v("加入房间")])]),o("view",{staticClass:["circleBox"],on:{click:e.stopAll}},[o("u-text",{staticClass:["circleIco","phone"]},[e._v("")]),o("u-text",{staticClass:["hint"]},[e._v("离开房间")])]),o("view",{staticClass:["circleBox"],on:{click:function(t){e.switchCamera()}}},[o("u-text",{staticClass:["circleIco","phone"]},[e._v("")]),o("u-text",{staticClass:["hint"]},[e._v("转换摄像头")])])])]),o("view",{ref:"showSlider",staticClass:["showSlider"]},[o("u-slider",{attrs:{value:e.beauty,max:100,min:0,activeColor:"#ff7f23",backgroundColor:"#bfbfbf",blockColor:"#e94267",blockSize:"20"},on:{change:e.sliderChange}})],1)],1)])},n=[];o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){}))},function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("view",{staticClass:["chat-block"]},[o("scroll-view",{staticClass:["message-block"],attrs:{scrollWithAnimation:"true"}},[o("view",{staticClass:["message-main"],attrs:{id:"message-main"}},[e._l(e.messageList,(function(t,i){return o("block",{key:i},[o("view",{staticClass:["message-box"]},[o("view",{staticClass:["avatar-box","message-box-avatar-box"]},[o("u-image",{staticClass:["avatar","avatar-box-avatar","message-box-avatar"],attrs:{src:t.avatarUrl?t.avatarUrl:"/static/logo.png"}})],1),o("view",{class:["message-content","message-box-content","Join"===t.messageType?"room-info":""]},["Join"===t.messageType?o("view",{class:["message","message-box-message","message-box-message-info"]},[o("u-text",{staticClass:["message-box-content-message","message-box-message-info-text"]},[e._v(e._s(t.message))])]):o("view",{class:["message","message-box-message"]},[o("u-text",{staticClass:["message-box-content-message"]},[e._v(e._s(t.nickName)+"："+e._s(t.message))])])])])])})),o("view",{staticClass:["message-box-space"]})],2)]),o("view",{staticClass:["bottom-bar"]},[o("view",{staticClass:["input-content","bottom-bar-input-content"]},[o("u-input",{staticClass:["input","bottom-bar-input-content-input"],attrs:{type:"text",confirmType:"send",placeholder:"说点什么...",value:e.message},on:{confirm:e.sendMessage,input:function(t){e.message=t.detail.value}}})],1)])],1)},n=[];o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){}))},,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return weex.requireModule(e)}},function(e,t,o){"use strict";o.r(t);var i=o(25),n=o.n(i);for(var r in i)"default"!==r&&function(e){o.d(t,e,(function(){return i[e]}))}(r);t.default=n.a},function(e,t,o){"use strict";o.r(t);var i=o(26),n=o.n(i);for(var r in i)"default"!==r&&function(e){o.d(t,e,(function(){return i[e]}))}(r);t.default=n.a},,,,,,function(e,t,o){"use strict";o.r(t);o(2);var i=o(8);i.default.mpType="page",i.default.route="pages/liveshow/liveshow",i.default.el="#root",new Vue(i.default)},function(e,t,o){"use strict";o.r(t);var i=o(42),n=o(23);for(var r in n)"default"!==r&&function(e){o.d(t,e,(function(){return n[e]}))}(r);var a=o(1);var s=Object(a.a)(n.default,i.b,i.c,!1,null,null,"5f02d543",!1,i.a,void 0);(function(e){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(o(47).default,this.options.style):Object.assign(this.options.style,o(47).default)}).call(s),t.default=s.exports}]);